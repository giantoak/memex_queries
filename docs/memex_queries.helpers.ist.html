

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>memex_queries.helpers.ist package &mdash; memex_queries 0.0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="memex_queries 0.0.1 documentation" href="index.html"/>
        <link rel="up" title="memex_queries.helpers package" href="memex_queries.helpers.html"/>
        <link rel="next" title="memex_queries.helpers.jpl package" href="memex_queries.helpers.jpl.html"/>
        <link rel="prev" title="memex_queries.helpers.isi package" href="memex_queries.helpers.isi.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> memex_queries
          

          
          </a>

          
            
            
              <div class="version">
                0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="memex_queries.html">memex_queries package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="memex_queries.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="memex_queries.helpers.html">memex_queries.helpers package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="memex_queries.helpers.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="memex_queries.helpers.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="memex_queries.helpers.html#module-contents">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="memex_queries.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="memex_queries.html#memex-queries-go-images-module">memex_queries.go_images module</a></li>
<li class="toctree-l2"><a class="reference internal" href="memex_queries.html#module-memex_queries">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">memex_queries</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="memex_queries.html">memex_queries package</a> &raquo;</li>
      
          <li><a href="memex_queries.helpers.html">memex_queries.helpers package</a> &raquo;</li>
      
    <li>memex_queries.helpers.ist package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/memex_queries.helpers.ist.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="memex-queries-helpers-ist-package">
<h1>memex_queries.helpers.ist package<a class="headerlink" href="#memex-queries-helpers-ist-package" title="Permalink to this headline">¶</a></h1>
<p>Functions for interacting with data curated by IST</p>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="memex-queries-helpers-ist-cdr-module">
<h2>memex_queries.helpers.ist.cdr module<a class="headerlink" href="#memex-queries-helpers-ist-cdr-module" title="Permalink to this headline">¶</a></h2>
<p>Functions for interacting with the CDR, the central Elasticsearch database.</p>
<span class="target" id="module-memex_queries.helpers.ist.cdr"></span><dl class="function">
<dt id="memex_queries.helpers.ist.cdr._filter_terms_query">
<code class="descclassname">memex_queries.helpers.ist.cdr.</code><code class="descname">_filter_terms_query</code><span class="sig-paren">(</span><em>query_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/memex_queries/helpers/ist/cdr.html#_filter_terms_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#memex_queries.helpers.ist.cdr._filter_terms_query" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>query_dict</strong> (<em>dict</em>) &#8211; Dict of CDR terms/fields to filter on and their assigned values</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><cite>dict</cite> &#8211; The query_dict, wrapped in Elastic &#8220;filter: terms&#8221; JSON</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="memex_queries.helpers.ist.cdr._new_elasticsearch">
<code class="descclassname">memex_queries.helpers.ist.cdr.</code><code class="descname">_new_elasticsearch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/memex_queries/helpers/ist/cdr.html#_new_elasticsearch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#memex_queries.helpers.ist.cdr._new_elasticsearch" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><cite>elasticsearch.Elasticsearch</cite> &#8211; An active connection to the CDR</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="memex_queries.helpers.ist.cdr.cdr_ad_ids_for_cdr_image_ids">
<code class="descclassname">memex_queries.helpers.ist.cdr.</code><code class="descname">cdr_ad_ids_for_cdr_image_ids</code><span class="sig-paren">(</span><em>cdr_image_ids</em>, <em>es=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/memex_queries/helpers/ist/cdr.html#cdr_ad_ids_for_cdr_image_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#memex_queries.helpers.ist.cdr.cdr_ad_ids_for_cdr_image_ids" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cdr_image_ids</strong> (<em>list</em>) &#8211; Single CDR ID of an image or a list of     CDR IDs of images.</li>
<li><strong>es</strong> (<em>elasticsearch.Elasticsearch</em>) &#8211; CDR Connection (can be omitted)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><cite>list</cite> &#8211; List of CDR IDs of ads using these images</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="memex_queries.helpers.ist.cdr.cdr_fields_for_cdr_ids">
<code class="descclassname">memex_queries.helpers.ist.cdr.</code><code class="descname">cdr_fields_for_cdr_ids</code><span class="sig-paren">(</span><em>cdr_ids</em>, <em>fields=None</em>, <em>es=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/memex_queries/helpers/ist/cdr.html#cdr_fields_for_cdr_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#memex_queries.helpers.ist.cdr.cdr_fields_for_cdr_ids" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cdr_ids</strong> (<em>list|str</em>) &#8211; Single CDR ID or a list of CDR IDs</li>
<li><strong>fields</strong> (<em>list|str</em>) &#8211; List of desired fields. If None, returns all     fields</li>
<li><strong>es</strong> (<em>elasticsearch.Elasticsearch</em>) &#8211; CDR Connection (can be omitted)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><cite>dict(dict)</cite> &#8211; Dict keyed on CDR IDs. Values are dictionaries of     field values keyed on field names. Null fields are omitted. Unlike CDR     JSON, lists with one value are collapsed to that value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="memex_queries.helpers.ist.cdr.cdr_image_ids_for_cdr_ad_ids">
<code class="descclassname">memex_queries.helpers.ist.cdr.</code><code class="descname">cdr_image_ids_for_cdr_ad_ids</code><span class="sig-paren">(</span><em>cdr_ad_ids</em>, <em>es=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/memex_queries/helpers/ist/cdr.html#cdr_image_ids_for_cdr_ad_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#memex_queries.helpers.ist.cdr.cdr_image_ids_for_cdr_ad_ids" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cdr_ad_ids</strong> (<em>list|str</em>) &#8211; Single CDR ID of an ad or a list of CDR IDs     of ads.</li>
<li><strong>es</strong> (<em>elasticsearch.Elasticsearch</em>) &#8211; CDR Connection (can be omitted)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><cite>dict</cite> &#8211; Dict of list of CDR IDS of images, keyed on the CDR IDs of     ads using those images.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="memex_queries.helpers.ist.cdr.stored_url_of_cdr_image_id">
<code class="descclassname">memex_queries.helpers.ist.cdr.</code><code class="descname">stored_url_of_cdr_image_id</code><span class="sig-paren">(</span><em>cdr_image_id</em>, <em>es=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/memex_queries/helpers/ist/cdr.html#stored_url_of_cdr_image_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#memex_queries.helpers.ist.cdr.stored_url_of_cdr_image_id" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cdr_image_id</strong> (<em>str</em>) &#8211; CDR ID of an image</li>
<li><strong>es</strong> (<em>elasticsearch.Elasticsearch</em>) &#8211; CDR Connection (can be omitted)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><cite>str</cite> &#8211; URL where the image is stored</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-contents">
<h2>Module contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<p>Functions that interact with multiple IST data stores</p>
<span class="target" id="module-memex_queries.helpers.ist"></span></div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="memex_queries.helpers.jpl.html" class="btn btn-neutral float-right" title="memex_queries.helpers.jpl package" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="memex_queries.helpers.isi.html" class="btn btn-neutral" title="memex_queries.helpers.isi package" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Peter Landwehr.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>